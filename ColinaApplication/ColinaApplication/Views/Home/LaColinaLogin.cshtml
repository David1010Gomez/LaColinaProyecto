@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="~/Scripts/jquery-3.7.1.js"></script>
    <title>La Colina Login</title>
    <link href="~/Css/FaIcons.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/css/Inicio.css?2.0.0" />
    <link href="~/Css/Jquery-confirm.css" rel="stylesheet" />

    <script>
    var urlInicioSesion = '@Url.Action("InicioSesion", "Home")';
    </script>

</head>
<body class="bg-app">
    <div id="Cargando" style="background-color: rgba(64, 63, 63, 0.77); position: absolute; width: 100%;
    height: 100%; top: 0; left: 0; z-index: 99; display: none;">
        <div id="fountainG">
            <div id="fountainG_1" class="fountainG"></div>
            <div id="fountainG_2" class="fountainG"></div>
            <div id="fountainG_3" class="fountainG"></div>
            <div id="fountainG_4" class="fountainG"></div>
            <div id="fountainG_5" class="fountainG"></div>
            <div id="fountainG_6" class="fountainG"></div>
            <div id="fountainG_7" class="fountainG"></div>
            <div id="fountainG_8" class="fountainG"></div>
        </div>
    </div>
    <main class="page-center">
        <section class="CajaContenedora">
            <div class="Circulo">
                <h1 class="Titulo">La Colina Restaurante</h1>

                <div class="CajaTabla">
                    <label class="CampoLabel" for="codigo">Código:</label>
                    <div class="InputWrap">
                        <input type="password" id="Codigo" name="codigo" inputmode="numeric" maxlength="4   "autocomplete="off" onkeypress="return valideKey(event);" />
                        <i class="fa fa-2x fa-user posicion"></i>
                    </div>

                    <!-- Teclado -->
                    <div id="teclado" class="teclado-grid" role="group" aria-label="Teclado numérico">
                        <button type="button" class="key" data-key="1">1</button>
                        <button type="button" class="key">2</button>
                        <button type="button" class="key">3</button>
                        <button type="button" class="key">4</button>
                        <button type="button" class="key">5</button>
                        <button type="button" class="key">6</button>
                        <button type="button" class="key">7</button>
                        <button type="button" class="key">8</button>
                        <button type="button" class="key">9</button>
                        <button type="button" class="key key-zero">0</button>
                        <button type="button" class="key">x</button>
                    </div>
                </div>

                <button class="BotonInicio" value="Iniciar" onclick="ValidaSesion();" >Iniciar</button>
            </div>
        </section>
    </main>
    <script src="~/ScriptsViews/Home/LaColinaLogin.js?1.0.13"></script>
    <script src="~/Scripts/Jquery-confirm.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const input = document.getElementById("Codigo");
            const teclado = document.getElementById("teclado");

            if (!input || !teclado) {
                console.warn("No se encontró el input o el teclado en el DOM");
                return;
            }

            teclado.addEventListener("click", function (event) {
                // Buscar el botón o celda presionada
                const key = event.target.closest(".key, td");
                if (!key) return;

                const valor = (key.dataset.key || key.textContent || "").trim();

                if (valor === "") return;

                // Si es "x" borra último caracter
                if (valor.toLowerCase() === "x" || valor === "⌫") {
                    input.value = input.value.slice(0, -1);
                    return;
                }

                // Solo números
                if (/^\d$/.test(valor)) {
                    const max = parseInt(input.getAttribute("maxlength")) || 10;
                    if (input.value.length < max) {
                        input.value += valor;
                    }
                }

                input.focus();
            });
        });
    </script>

</body>

</html>

